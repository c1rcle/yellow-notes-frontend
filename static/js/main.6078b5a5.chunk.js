(this["webpackJsonpyellow-notes-frontend"]=this["webpackJsonpyellow-notes-frontend"]||[]).push([[0],{65:function(e,a,t){e.exports=t(79)},77:function(e,a,t){},79:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(13),l=t.n(c),s=t(17),o=t(19),i=t(81),m=t(8),u=t(88),d=t(89),p=t(82),E=t(64),f=t(15),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isUserLoggedIn:!1},a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"REGISTER":case"LOGIN":return Object(f.a)({},n,{isUserLoggedIn:!0});case"ADD_NOTE":var r=0===e.notes.length?0:e.notes[e.notes.length-1].id+1;return Object(f.a)({},e,{notes:[].concat(Object(E.a)(e.notes),[Object(f.a)({},n,{id:r})])});case"LOGOUT":return{isUserLoggedIn:!1};default:return e}},v=t(23),g=t.n(v),b=t(39),w=function(){var e=Object(b.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete a.payload.password,a.payload.notes=[],e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete a.payload.password,a.payload.notes=[{id:0,content:"Some example text"},{id:1,content:"Some example text"},{id:2,content:"Some example text"},{id:3,content:"Some example text"},{id:4,content:"Multi \nline \ntext"}],e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a);case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),j=function(e){return function(a){switch(a.type){case"REGISTER":w(a).then((function(a){return e(a)}));break;case"LOGIN":y(a).then((function(a){return e(a)}));break;case"ADD_NOTE":N(a).then((function(a){return e(a)}));break;default:e(a)}}},x=Object(n.createContext)();function O(e){var a=e.children,t=Object(n.useReducer)(h,{}),c=Object(m.a)(t,2),l=c[0],s=c[1];return r.a.createElement(x.Provider,{value:[l,j(s)]},a)}function C(){var e=r.a.useContext(x);if(void 0===e)throw new Error("useUser must be used within a UserProvider");return e}var k=function(){var e=C(),a=Object(m.a)(e,2),t=a[0],n=t.isUserLoggedIn,c=t.email,l=a[1];return r.a.createElement(u.a,{variant:"light",bg:"light",expand:"lg"},r.a.createElement(i.a,{className:"justify-content-center"},r.a.createElement(u.a.Brand,{className:"w-50 mr-auto"},r.a.createElement("i",{className:"fas fa-quote-right"})," ",r.a.createElement("span",{className:"lead"},n?"Hello, ".concat(c.split("@")[0],"!"):"Yellow Notes")),r.a.createElement(u.a.Toggle,{"aria-controls":"navbar-nav"}),r.a.createElement(u.a.Collapse,{id:"navbar-nav",className:"w-100"},r.a.createElement(d.a,{className:"w-100 justify-content-center my-2"},n&&r.a.createElement(p.a,{variant:"outline-success"},r.a.createElement("i",{className:"fas fa-bars mr-1"}),"Text")),r.a.createElement(d.a,{className:"w-100 ml-auto justify-content-end my-2"},n?r.a.createElement(p.a,{variant:"outline-danger",onClick:function(){return l({type:"LOGOUT"})}},r.a.createElement("i",{className:"fas fa-sign-out-alt mr-1"}),"Sign out"):r.a.createElement(s.b,{to:"/"},r.a.createElement(p.a,{variant:"outline-primary"},r.a.createElement("i",{className:"fas fa-sign-in-alt mr-1"}),"Sign in"))))))},T=t(24),R=t(85),I=t(61),S=t(87),L=t(60),U=t(84),A=t(91),D=t(83),V=function(e){var a=e.children,t=e.text,c=e.show,l=Object(n.useRef)(),s=(Array.isArray(a)?a[0]:a)||r.a.createElement("div",{ref:l});if(null===s.ref)throw new Error("First child has to have a ref defined!");var o=s.ref.current;return r.a.createElement(r.a.Fragment,null,a||s,r.a.createElement(A.a,Object.assign({},e,{target:o,show:c}),r.a.createElement(D.a,e,t)))},G=function(e){var a=e.state,t=e.onTextChanged;return r.a.createElement(L.a,{className:"row justify-content-center"},r.a.createElement(U.a,null,r.a.createElement(U.a.Prepend,null,r.a.createElement(U.a.Text,{className:"bg-white"},r.a.createElement("i",{className:"fas fa-at fa-fw m-auto"}))),r.a.createElement(V,{text:"Enter a valid e-mail address!",show:a.isValid,placement:"right"},r.a.createElement(S.a.Control,{required:!0,id:"email",type:"email",placeholder:"Email address",ref:Object(n.useRef)(),value:a.email,onChange:t}))))},P=function(e){var a=e.state,t=e.onTextChanged;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{className:"row justify-content-center"},r.a.createElement(U.a,null,r.a.createElement(U.a.Prepend,null,r.a.createElement(U.a.Text,{className:"bg-white"},r.a.createElement("i",{className:"fas fa-hashtag fa-fw m-auto"}))),r.a.createElement(V,{text:"Password must contain at least 1 upper and lower case letter, 1 numeric character and be no less than 5 characters long!",show:a.isValid,placement:"right"},r.a.createElement(S.a.Control,{required:!0,pattern:"^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{5,}$",type:"password",placeholder:"Password",ref:Object(n.useRef)(),value:a.value,onChange:t})))))},F=function(e){var a=e.disabled,t=e.icon,n=e.title;return r.a.createElement(p.a,{variant:"outline-primary",block:!0,type:"submit",disabled:a},r.a.createElement("i",{className:"fas fa-".concat(t," mr-1")}),n)},q=function(e){var a=e.state,t=e.pattern,c=e.onTextChanged;return r.a.createElement(L.a,{className:"row justify-content-center"},r.a.createElement(V,{text:"Passwords do not match!",show:t!==a.value,placement:"right"},r.a.createElement(S.a.Control,{required:!0,pattern:t,id:"passwordRepeat",type:"password",placeholder:"Repeat Password",ref:Object(n.useRef)(),value:a.value,onChange:c})))},B=function(e){var a=e.onClick;return r.a.createElement(L.a,{className:"row justify-content-center my-4"},r.a.createElement(S.a.Check,{custom:!0,id:"1",type:"checkbox",label:"I agree to the terms and conditions",onClick:a}))},M=function(){var e=Object(n.useState)({email:{value:"",isValid:!1},password:{value:"",isValid:!1},passwordRepeat:{value:"",isValid:!1},termsAccepted:!1}),a=Object(m.a)(e,2),t=a[0],c=a[1],l=C(),s=Object(m.a)(l,2),i=s[0],u=s[1],d=t.email,p=t.password,E=t.passwordRepeat,h=t.termsAccepted,v=function(e){return function(a){var n=a.target,r=n.validity,l=n.value,s=r.patternMismatch||r.typeMismatch;c(Object(f.a)({},t,Object(T.a)({},e,{value:l,isValid:s})))}};return r.a.createElement(r.a.Fragment,null,i.isUserLoggedIn&&r.a.createElement(o.a,{to:"notes"}),r.a.createElement(R.a,{className:"justify-content-center"},r.a.createElement(I.a,{xs:11,lg:8,className:"my-4"},r.a.createElement("h1",{className:"display-4 text-center"},"Register an account"))),r.a.createElement(R.a,{className:"justify-content-center"},r.a.createElement(I.a,{xs:11,lg:6,className:"my-2"},r.a.createElement(S.a,{onSubmit:function(e){e.preventDefault(),e.target.className+=" was-validated",e.target.checkValidity()&&u({type:"REGISTER",payload:{email:t.email.value,password:t.password.value}})},className:"needs-validation",noValidate:!0},r.a.createElement(G,{onTextChanged:v("email"),state:d}),r.a.createElement(P,{onTextChanged:v("password"),state:p}),r.a.createElement(q,{pattern:p.value,onTextChanged:v("passwordRepeat"),state:E}),r.a.createElement(B,{onClick:function(){c(Object(f.a)({},t,{termsAccepted:!h}))}}),r.a.createElement(F,{disabled:!h,icon:"user-plus",title:"Create new account"})))))},_=function(){var e=C(),a=Object(m.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)({email:"",password:""}),i=Object(m.a)(l,2),u=i[0],d=i[1],E=u.email,h=u.password,v=""===E||""===h,g=function(e){return function(a){var t=a.target;d(Object(f.a)({},u,Object(T.a)({},e,t.value)))}};return r.a.createElement(r.a.Fragment,null,t.isUserLoggedIn&&r.a.createElement(o.a,{to:"notes"}),r.a.createElement(R.a,{className:"justify-content-center"},r.a.createElement(I.a,{xs:11,className:"my-4"},r.a.createElement("h1",{className:"display-4 text-center"},"Welcome to Yellow Notes!"))),r.a.createElement(R.a,{className:"justify-content-center"},r.a.createElement(I.a,{xs:11,lg:6,className:"my-2"},r.a.createElement(S.a,{onSubmit:function(e){e.preventDefault(),v||c({type:"LOGIN",payload:Object(f.a)({},u)})},noValidate:!0},r.a.createElement(G,{onTextChanged:g("email"),state:E}),r.a.createElement(P,{onTextChanged:g("password"),state:h}),r.a.createElement(F,{disabled:v,icon:"home",title:"Login"}),r.a.createElement("hr",null),r.a.createElement("p",{className:"lead text-center"},"Or"," ",r.a.createElement(s.b,{to:"/registration"},r.a.createElement(p.a,{variant:"outline-success"},r.a.createElement("i",{className:"fas fa-user-plus mr-2"}),"Register"))," ","to create new account!")))))},J=t(90),Y=(t(77),function(e){var a=e.content;return r.a.createElement(J.a,{className:"shadow-sm"},r.a.createElement(J.a.Body,{className:"p-0"},r.a.createElement(S.a.Control,{disabled:!0,as:"textarea",className:"note-item",rows:5,value:a})))}),z=t(86),H=t(62),W=function(){var e=C(),a=Object(m.a)(e,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,null),r.a.createElement(R.a,null,a.isUserLoggedIn||r.a.createElement(o.a,{to:"/"}),!a.notes||a.notes.map((function(e){return r.a.createElement(I.a,{lg:4,className:"mt-3",key:e.id},r.a.createElement(Y,e))}))))};function Z(){var e=C(),a=Object(m.a)(e,2)[1],t=Object(n.useState)(""),c=Object(m.a)(t,2),l=c[0],s=c[1];return r.a.createElement(z.a,{className:"mt-3 mb-3 shadow-sm"},r.a.createElement(H.a,null,r.a.createElement(S.a,{className:"d-flex",onSubmit:function(e){e.preventDefault(),""!==l&&(a({type:"ADD_NOTE",payload:{content:l}}),s(""))}},r.a.createElement(S.a.Control,{type:"text",placeholder:"New note",value:l,onChange:function(e){return s(e.target.value)}}),r.a.createElement(p.a,{variant:"outline-info",type:"submit",className:"ml-3"},r.a.createElement("i",{className:"fas fa-plus"})))))}var $=t(63),K=t(46),Q={transition:"opacity 0.5s linear"},X=function(e){var a=e.component,t=Object($.a)(e,["component"]);return r.a.createElement(o.b,Object.assign({},t,{render:function(e){return r.a.createElement(K.a,{in:!0,appear:!0,style:Q},r.a.createElement("div",null,r.a.createElement(a,e)))}}))};var ee=function(){return r.a.createElement(O,null,r.a.createElement(s.a,null,r.a.createElement(k,null),r.a.createElement(i.a,null,r.a.createElement(o.d,null,r.a.createElement(X,{exact:!0,key:"0",path:"/",component:_}),r.a.createElement(X,{exact:!0,key:"1",path:"/registration",component:M}),r.a.createElement(X,{exact:!0,key:"2",path:"/notes",component:W})))))};t(78);l.a.render(r.a.createElement(ee,null),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.6078b5a5.chunk.js.map